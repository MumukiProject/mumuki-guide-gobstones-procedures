Look now to this version of the same program

Although there still are elements of the syntax that you don't know, we are sure that you will spend much less time to understand what it does.
It is much easier to understand, isn't it?
Submit the code, so we make sure that it does exactly the same thing as the previous one.